server.port=${PORT:8080}
spring.application.name=schoolweb-backend

# MongoDB (Atlas) - Enhanced connection string with robust connection pool settings
# Connection pool settings: maxPoolSize=50, minPoolSize=5 to prevent exhaustion
# Heartbeat every 10s to keep connections alive, timeouts configured for Render
# maxIdleTimeMS=60000 ensures idle connections are kept alive for 60 seconds
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://gouravkrsah78_db_user:hdV17TUTRifMZEdC@schoolweb-cluster.jvpjmjq.mongodb.net/schoolweb_db?retryWrites=true&w=majority&tls=true&maxPoolSize=50&minPoolSize=5&maxIdleTimeMS=60000&connectTimeoutMS=15000&socketTimeoutMS=45000&serverSelectionTimeoutMS=15000&heartbeatFrequencyMS=10000&retryReads=true&retryWrites=true}

# MongoDB Connection Pool Configuration (robust settings for Render deployment)
spring.data.mongodb.auto-index-creation=true
spring.data.mongodb.write-concern=MAJORITY
spring.data.mongodb.read-preference=primaryPreferred

# Email via SendGrid/Resend (configure on Render)
# Supports both names you provided
sendgrid.api.key=${SENDGRID_API_KEY:}
resend.api.key=${RESEND_API_KEY:}
email.from=${SENDGRID_FROM_EMAIL:${EMAIL_FROM:noreply@schoolweb.app}}

# CORS Configuration (allow local dev and deployed frontend) â€“ overridable
spring.web.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:4200,https://schoolweb-1-homv.onrender.com}

# Admin Credentials
admin.username=admin
admin.password=admin123